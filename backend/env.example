# Lokal Backend Environment Configuration
# Copy this file to .env and fill in your actual values
# For Railway deployment, these variables should be set in Railway environment

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================
PORT=3001
NODE_ENV=development

# =============================================================================
# RAILWAY POSTGRESQL CONFIGURATION (CRITICAL)
# =============================================================================
# Railway automatically provides these in production
DATABASE_URL=postgresql://user:password@host:port/database
POSTGRES_URL=postgresql://user:password@host:port/database
POSTGRES_PRISMA_URL=postgresql://user:password@host:port/database
POSTGRES_URL_NON_POOLING=postgresql://user:password@host:port/database
POSTGRES_USER=your_railway_user
POSTGRES_HOST=your_railway_host
POSTGRES_PASSWORD=your_railway_password
POSTGRES_DATABASE=your_railway_database

# =============================================================================
# SUPABASE CONFIGURATION (REMOVED - No longer used)
# =============================================================================
# Supabase has been completely removed from this project
# All database operations now use Railway PostgreSQL

# =============================================================================
# REDIS CONFIGURATION (CRITICAL)
# =============================================================================
REDIS_URL=redis://user:password@host:port
REDIS_HOST=your_redis_host
REDIS_PORT=6379
REDIS_PASSWORD=your_redis_password
REDIS_DB=0

# =============================================================================
# OPENAI CONFIGURATION (Optional)
# =============================================================================
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_MODEL=gpt-4o-mini

# =============================================================================
# SECURITY CONFIGURATION (CRITICAL - Generate secure secrets)
# =============================================================================
# Generate secure secrets: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=generate_secure_jwt_secret_here
REFRESH_SECRET=generate_secure_refresh_secret_here
SESSION_SECRET=generate_secure_session_secret_here
SESSION_TTL=86400

# =============================================================================
# CACHE CONFIGURATION
# =============================================================================
CACHE_TTL=3600
CACHE_TTL_PRODUCTS=3600
CACHE_TTL_DETECTION=86400
CACHE_TTL_MATCHING=1800

# =============================================================================
# RATE LIMITING
# =============================================================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# =============================================================================
# FILE UPLOAD CONFIGURATION
# =============================================================================
MAX_FILE_SIZE=500MB
UPLOAD_PATH=./temp

# =============================================================================
# YOLO CONFIGURATION
# =============================================================================
YOLO_CONFIDENCE_THRESHOLD=0.5
YOLO_MODEL=yolov8n.pt

# =============================================================================
# CORS CONFIGURATION
# =============================================================================
CORS_ORIGIN=http://localhost:3000,http://localhost:19006,https://your-frontend-domain.com

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
LOG_LEVEL=info
LOG_FILE=./logs/app.log

# =============================================================================
# CONNECTION STABILITY
# =============================================================================
KEEP_ALIVE_TIMEOUT=65000
HEADERS_TIMEOUT=66000
MAX_CONNECTIONS=1000

# =============================================================================
# HEALTH CHECK SETTINGS
# =============================================================================
HEALTH_CHECK_INTERVAL=30000
HEALTH_CHECK_TIMEOUT=5000

# =============================================================================
# RAILWAY SPECIFIC (Automatically set by Railway in production)
# =============================================================================
# These are automatically set by Railway in production
# RAILWAY_STATIC_URL=https://your-railway-domain.up.railway.app
# RAILWAY_PUBLIC_DOMAIN=https://your-railway-domain.up.railway.app
# RAILWAY_ENVIRONMENT=production
# RAILWAY_PROJECT_ID=your_project_id

# =============================================================================
# UPSTASH REDIS CONFIGURATION (Optional - for REST API access)
# =============================================================================
UPSTASH_REDIS_REST_URL=your_upstash_redis_rest_url
UPSTASH_REDIS_REST_TOKEN=your_upstash_redis_rest_token
